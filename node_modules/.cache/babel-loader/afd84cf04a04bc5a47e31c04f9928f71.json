{"ast":null,"code":"'use strict';\n\nvar Module = require('module');\n\nvar path = require('path');\n\nmodule.exports = function requireFromString(code, filename, opts) {\n  if (typeof filename === 'object') {\n    opts = filename;\n    filename = undefined;\n  }\n\n  opts = opts || {};\n  filename = filename || '';\n  opts.appendPaths = opts.appendPaths || [];\n  opts.prependPaths = opts.prependPaths || [];\n\n  if (typeof code !== 'string') {\n    throw new Error('code must be a string, not ' + typeof code);\n  }\n\n  var paths = Module._nodeModulePaths(path.dirname(filename));\n\n  var parent = module.parent;\n  var m = new Module(filename, parent);\n  m.filename = filename;\n  m.paths = [].concat(opts.prependPaths).concat(paths).concat(opts.appendPaths);\n\n  m._compile(code, filename);\n\n  var exports = m.exports;\n  parent && parent.children && parent.children.splice(parent.children.indexOf(m), 1);\n  return exports;\n};","map":null,"metadata":{},"sourceType":"script"}